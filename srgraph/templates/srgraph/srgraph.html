{% extends 'base.html' %}
{% load crispy_forms_tags %}
{% block head_extra %}
{{ form.media }}
{% endblock %}

<script>
{% block jquery %}
		$(document).ready(function(){
$(function() {
  $("#subreddit1").autocomplete({
    source: "/api/get_subreddits/",
    minLength: 2,
  });
  $("#subreddit2").autocomplete({
    source: "/api/get_subreddits/",
    minLength: 2,
  });
});

})
{% endblock %}
</script>

{% block content %}

<h2>subreddit graph analysis</h2>
<p>This is a project I did earlier this year that explores the graph of related communities on reddit.com. subreddits, as they are called, often link to other related subreddits in their descriptions. starting with the 50 subreddits that are shown by default for guests, I wrote a bot that recursively collected data on selected subreddits and gathered the data into a graph with a python package called NetworkX.
<p>the example below selects two subreddits at random and calculates the shortest path between the pair.</p>
<br />
<blockquote>
{{ results }}
</blockquote>
<br />
<form method="GET" action=".">
  <div class="row">
    <div class="col-md-3 col-md-offset-2">
  <input id="subreddit1" class="form-control" type="text" name="sr1" value='{{ request.GET.sr1 }}' placeholder="start typing a subreddit...">
</div>
<div class="col-md-3">
    <input id="subreddit2" class="form-control" type="text" name="sr2" value='{{ request.GET.sr2 }}' placeholder="type another subreddit">
  </div>
  <div class="col-md-2">
    <input type="submit" class="btn btn-success">
    <a class='btn btn-warning'>Random</a>
  </div>
</div>
</form>


{% if search_result%}
<h2>Results:</h2>
<blockquote>
{{ search_result }}
</blockquote>
{% endif %}

<!-- <div class="row">
  <div class="col-lg-6">
    <div class="input-group">
      <span class="input-group-btn">
        <button class="btn btn-default" type="button">Go!</button>
      </span>
      <input type="text" class="form-control" placeholder="Search for...">
    </div>
  </div>
  <div class="col-lg-6">
    <div class="input-group">
      <input type="text" class="form-control" placeholder="Search for...">
      <span class="input-group-btn">
        <button class="btn btn-default" type="button">Go!</button>
      </span>
    </div>
  </div>
</div> -->

{% endblock %}
